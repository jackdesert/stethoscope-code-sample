{% extends "layout.jinja2" %}

{% block content %}
<div class='col-12'>
    <div class='crumb'>
        <a href='/' class='crumb__link'>Home</a>
        ->
        Training Runs
    </div>

    <h2>Training Runs</h2>
    <a class='btn btn-primary' href='/training_runs/new'>New Training Run</a>

    <div class='col-12'>
        <table class='table'>
            {% for r in rooms %}
                <h2>Room {{ r['id'] }}
                    <span class='num-room-readings'>({{ r['total_readings'] }} RSSI Readings)</span>
                </h2>

                <tr class='table__tr'>
                    <th class='table__th'>Badge</th>
                    <th class='table__th'>Num Readings</th>
                    <th class='table__th'>Start Time</th>
                    <th class='table__th'>End Time</th>
                    <th class='table__th'>Recorded By</th>
                </tr>

                {% for tr in r['training_runs'] %}
                    <td class='table__td'>{{ tr.badge_id }}</td>
                    <td class='table__td'>{{ tr.num_readings }}</td>
                    <td class='table__td'>{{ str(tr.start_timestamp) }}</td>
                    <td class='table__td'>{{ str(tr.end_timestamp) }}</td>
                    <td class='table__td'>{{ tr.recorded_by }}</td>
                {% endfor %}
                <div class='space-2rem'></div>
            {% endfor %}
        </table>
    </div>
</div>

{% endblock content %}
